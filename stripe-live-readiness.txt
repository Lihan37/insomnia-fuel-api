Live readiness gaps and next steps:

- Orders endpoint (src/routes/orders.ts:130-210) creates/returns orders from success page without checking session/payment status; unpaid/expired sessions could be recorded as paid and cart cleared.
- Endpoint is unauthenticated; anyone with the session id can trigger order creation. Move creation to a Stripe webhook or add auth plus paid-status check and idempotency tied to session id.
- Orders are built from current cart, not the paid items; cart changes between session creation and success will desync from what Stripe charged. Use checkout.session.completed webhook with expand=line_items (or store line_items on creation) to persist charged items.
- No webhook handling/signature verification; without it you miss async events (3DS, failures, refunds, disputes) and paymentStatus drifts from Stripe reality.
- paymentStatus is hardcoded to "paid" in createOrderFromCartOnce (src/models/Order.ts:57-96); failed/expired/canceled payments would be mislabeled. Tie it to actual session/payment intent state.
- Checkout session creation uses ad-hoc price_data; for live, prefer Stripe Price IDs and consider an idempotency key for retries.
- Operational setup pending: live STRIPE_SECRET_KEY/publishable key, production CLIENT_URL, STRIPE_WEBHOOK_SECRET for live webhooks, tax/fee/shipping setup as needed.

Suggested next steps:
1) Add a webhook endpoint verifying signatures, handle checkout.session.completed (and optionally refunds/disputes), marking orders paid only on Stripe confirmation.
2) In success-page fallback, require auth and confirm payment_status === "paid" before clearing cart or creating orders.
3) Store orders from Stripe-charged line items (webhook data or expanded session), not the mutable cart.
4) Swap to live keys/URLs and configure prices/taxes/fees on Stripe.
